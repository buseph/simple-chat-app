(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{439:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(11),o=n.n(r),c=n(19),i=n(475),s=n(231),l="#3DB2FF",d="#FFB830",u=Object(s.a)({palette:{common:{blue:l,white:"#FFEDDA",yellow:d,red:"#FF2442"},primary:{main:l},secondary:{main:d}}}),m=n(64),h=n.n(m),j=n(105),b=n(17),p=n(469),f=n(480),g=n(471),x=n(476),O=n(478),w=n(467),C=n(61),v=n(80),y=n(4),N=Object(w.a)((function(e){var t,n;return{chatContainer:(t={width:"35em",height:"35em",backgroundColor:e.palette.common.white,boxShadow:e.shadows[2],padding:"0 8em"},Object(b.a)(t,e.breakpoints.down("xs"),{width:"100%",height:"100%"}),Object(b.a)(t,e.breakpoints.down("415"),{}),t),contentContainer:Object(b.a)({},e.breakpoints.down("555"),{width:"300px"}),greeting:(n={fontWeight:"bold",marginBottom:"15px",color:e.palette.secondary.main},Object(b.a)(n,e.breakpoints.down("510"),{fontSize:"1.5rem"}),Object(b.a)(n,e.breakpoints.down("375"),{fontSize:"1rem",marginBottom:"10px"}),n),startButton:{marginTop:"15px",backgroundColor:e.palette.common.red,color:"#fff",fontWeight:"bold",fontSize:"1.1rem","&:hover":{backgroundColor:e.palette.common.red}},avatarContainer:{width:"100%"},userAvatar:{width:"2em",height:"2em",fontSize:"5rem",boxShadow:e.shadows[3],marginBottom:"20px"}}}));function k(e){var t=e.inputName,n=e.setInputName,a=e.validate,r=e.setValidate,o=e.invalidName,c=e.setInValidName,i=e.socket,s=N(),l=Object(C.a)();function d(){return(d=Object(j.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.emit("user_counter",{user:1,username:t});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(y.jsx)(p.a,{container:!0,direction:"row",justifyContent:"center",alignContent:"center",style:{width:"100vw",height:"100vh"},children:Object(y.jsx)(p.a,{item:!0,container:!0,direction:"column",alignContent:"center",justifyContent:"center",className:s.chatContainer,children:Object(y.jsxs)(p.a,{item:!0,container:!0,direction:"column",className:s.contentContainer,children:[Object(y.jsx)(p.a,{item:!0,container:!0,justifyContent:"center",className:s.avatarContainer,children:Object(y.jsx)(f.a,{style:{backgroundColor:a?"":l.palette.primary.main},className:s.userAvatar,children:t.slice(0,1).toLocaleUpperCase()})}),Object(y.jsx)(p.a,{item:!0,children:Object(y.jsx)(g.a,{variant:"h4",align:"center",color:"initial",className:s.greeting,children:a?"Enter your name":"Welcome "+t.slice(0,7)})}),Object(y.jsx)(p.a,{item:!0,container:!0,justifyContent:"center",style:{width:"100%"},children:Object(y.jsx)(x.a,{error:o,helperText:o?"Please choose different name.":"",autoComplete:"off",variant:"outlined",color:"secondary",autoFocus:!0,inputProps:{min:0,style:{textAlign:"center"}},style:{width:300},value:t,onChange:function(e){var t=e.target.value;n(t),""!==t?"server"===t.toLocaleLowerCase()||t.toLocaleLowerCase().includes("server")?(c(!0),r(!0)):(c(!1),r(!1)):r(!0)},fullWidth:!0})}),Object(y.jsx)(p.a,{children:Object(y.jsx)(v.b,{to:"/message",style:{textDecoration:"none",pointerEvents:a?"none":"auto"},children:Object(y.jsx)(O.a,{variant:"contained",fullWidth:!0,className:s.startButton,disabled:a,onClick:function(){return d.apply(this,arguments)},children:"Start Chatting!"})})})]})})})}var S=n(20),I=n(6),B=n(473),W=n(474),F=n(477),L=Object(w.a)((function(e){return{chat:{width:"auto",height:"auto",maxWidth:"263px",color:"#fff",fontWeight:500,fontSize:"1rem",borderRadius:"50px",padding:"10px 15px",overflowWrap:"break-word",wordBreak:"break-word"},messageContent:{lineHeight:"1px"},you:{backgroundColor:e.palette.secondary.main,color:e.palette.common.black,marginRight:"1em"},other:{backgroundColor:e.palette.primary.main},server:{backgroundColor:e.palette.common.white,color:e.palette.grey[700]},youChatInfo:{marginRight:"2em"},otherChatInfo:{marginLeft:"1em"},authorName:{color:e.palette.grey[600]},newUser:{color:e.palette.primary.light}}}));function z(e){var t=e.author,n=e.message,a=e.username,r=e.newUser,o=L();return Object(y.jsxs)(p.a,{container:!0,direction:"column",children:[Object(y.jsx)(p.a,{item:!0,container:!0,direction:"row",justifyContent:a===t?"flex-end":"flex-start",children:"Server"===t?Object(y.jsx)(p.a,{item:!0,children:Object(y.jsx)(F.a,{className:"".concat(o.chat," ").concat(o.server),children:Object(y.jsxs)(g.a,{align:"left",variant:"subtitle1",className:o.messageContent,display:"inline",children:[Object(y.jsxs)("i",{className:o.newUser,children:[r," "]}),n]})})}):Object(y.jsx)(p.a,{item:!0,children:Object(y.jsx)(F.a,{className:a===t?"".concat(o.chat," ").concat(o.you):"".concat(o.chat," ").concat(o.other),children:Object(y.jsx)(g.a,{align:"left",variant:"subtitle1",className:o.messageContent,display:"inline",children:n})})})}),Object(y.jsx)(p.a,{item:!0,container:!0,direction:"row",justifyContent:a===t?"flex-end":"flex-start",children:Object(y.jsx)(g.a,{variant:"caption",noWrap:!0,className:a===t?"".concat(o.authorName," ").concat(o.youChatInfo):"".concat(o.authorName," ").concat(o.otherChatInfo),children:t})})]})}var E=n(230),M=n(472),U=Object(w.a)((function(e){return{noMessagesText:{color:e.palette.grey[400]},noMessageIcon:{color:e.palette.grey[400],fontSize:"5em"}}}));var D=function(){var e=U();return Object(y.jsxs)(p.a,{container:!0,direction:"column",alignContent:"center",children:[Object(y.jsx)(p.a,{container:!0,direction:"row",justifyContent:"center",children:Object(y.jsx)(M.a,{className:e.noMessageIcon})}),Object(y.jsx)(p.a,{item:!0,children:Object(y.jsx)(g.a,{align:"center",variant:"body1",className:e.noMessagesText,children:"No Messages"})})]})},T=n(479),_=n(14),A=Object(w.a)((function(e){return{chatContainer:Object(b.a)({width:"35em",backgroundColor:e.palette.common.white,boxShadow:e.shadows[2],padding:"1em 2em"},e.breakpoints.down("xs"),{width:"100%",height:"100%"}),chatContent:{width:"100%",height:"616px"},messageInputContainer:{width:"10em"},messageInput:{backgroundColor:"#fff",maxWidth:"26em","&:hover":{borderColor:"red"}},sendButton:{backgroundColor:u.palette.secondary.main,transition:"0.5s ease",marginLeft:"10px",height:"100%","&:hover":{backgroundColor:u.palette.secondary.light}},messages:{width:"100%",height:"80%",borderRadius:"5px",marginBottom:"1em",backgroundColor:"#fff",padding:"1em 0.5em "},autoScroll:{width:"100%",height:"100%",overflow:"hidden",marginLeft:"0.5em"},inputContainer:{width:"26ch"},userCount:{fontWeight:600,marginLeft:"0.2em",marginTop:"1.5px",color:e.palette.grey[600]}}})),R=Object(I.a)({root:{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:u.palette.secondary.light},"&:hover fieldset":{borderColor:u.palette.secondary.main},"&.Mui-focused fieldset":{borderColor:u.palette.secondary.main}}}})(x.a);function V(e){var t=e.inputName,n=e.socket,r=A(),o=Object(a.useState)(!0),i=Object(c.a)(o,2),s=i[0],l=i[1],d=Object(a.useState)(""),u=Object(c.a)(d,2),m=u[0],b=u[1],f=Object(a.useState)([]),x=Object(c.a)(f,2),w=x[0],C=x[1],v=Object(a.useState)(0),N=Object(c.a)(v,2),k=N[0],I=N[1];var F=function(){var e=Object(j.a)(h.a.mark((function e(a){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),""===m){e.next=8;break}return r={id:Object(T.a)(),author:t,message:m},e.next=5,n.emit("send_message",r);case 5:C((function(e){return[].concat(Object(S.a)(e),[r])})),b(""),l(!0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e=!1;return n.on("recieve_message",(function(t){e||C((function(e){return[].concat(Object(S.a)(e),[t])}))})),n.on("user_counter",(function(t){e||I(t)})),n.on("new_user",(function(t){e||C((function(e){return[].concat(Object(S.a)(e),[t])}))})),function(){e=!0}}),[n]),Object(y.jsx)(y.Fragment,{children:""===t?Object(y.jsx)(_.a,{to:"/"}):Object(y.jsx)(p.a,{container:!0,direction:"row",justifyContent:"center",alignContent:"center",style:{width:"100%",height:"100vh"},children:Object(y.jsx)(p.a,{item:!0,container:!0,direction:"column",alignContent:"center",className:r.chatContainer,children:Object(y.jsxs)(p.a,{item:!0,container:!0,direction:"column",className:r.chatContent,wrap:"nowrap",children:[Object(y.jsxs)(p.a,{item:!0,container:!0,direction:"row",justifyContent:"center",alignContent:"center",children:[Object(y.jsx)(B.a,{color:"secondary"}),Object(y.jsx)(g.a,{variant:"body1",className:r.userCount,children:k})]}),Object(y.jsx)(p.a,{item:!0,className:r.messages,container:!0,direction:"row",alignContent:"center",children:0===w.length?Object(y.jsx)(D,{}):Object(y.jsx)(E.a,{className:r.autoScroll,children:w.map((function(e){return Object(y.jsx)(z,{author:e.author,message:e.message,username:t,newUser:e.newUser},e.id)}))})}),Object(y.jsx)("form",{id:"form",action:"",autoComplete:"off",onSubmit:F,children:Object(y.jsxs)(p.a,{container:!0,direction:"row",justifyContent:"flex-end",style:{width:"100%",height:"56px"},wrap:"nowrap",children:[Object(y.jsx)(R,{variant:"outlined",className:r.messageInput,color:"secondary",placeholder:"Enter your message",value:m,onChange:function(e){var t=e.target.value;b(t),l(""===t)},autoFocus:!0,fullWidth:!0}),Object(y.jsx)(p.a,{item:!0,className:r.buttonContainer,children:Object(y.jsx)(O.a,{variant:"contained",className:r.sendButton,disableElevation:!0,disabled:s,onClick:F,children:Object(y.jsx)(W.a,{fontSize:"large"})})})]})})]})})})})}var J=n(148),P=n.n(J),H=P.a.connect("https://jsph-chat-app-server.herokuapp.com");var q=function(){var e=Object(a.useState)(""),t=Object(c.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(!0),s=Object(c.a)(o,2),l=s[0],d=s[1],m=Object(a.useState)(!1),h=Object(c.a)(m,2),j=h[0],b=h[1];return Object(y.jsx)(i.a,{theme:u,children:Object(y.jsx)(v.a,{children:Object(y.jsxs)(_.d,{children:[Object(y.jsx)(_.b,{exact:!0,path:"/",component:function(){return Object(y.jsx)(k,{inputName:n,setInputName:r,validate:l,setValidate:d,invalidName:j,setInValidName:b,socket:H})}}),Object(y.jsx)(_.b,{exact:!0,path:"/message",component:function(){return Object(y.jsx)(V,{socket:H,inputName:n,io:P.a,username:n})}})]})})})};o.a.render(Object(y.jsx)(q,{}),document.getElementById("root"))}},[[439,1,2]]]);
//# sourceMappingURL=main.debfd2d6.chunk.js.map